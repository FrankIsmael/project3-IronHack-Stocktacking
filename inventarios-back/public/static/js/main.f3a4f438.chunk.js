(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(74)},40:function(e,t,a){},41:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),c=a.n(l),s=(a(40),a(1)),i=a(2),o=a(4),m=a(3),u=a(5),h=a(14),p=(a(41),a(17)),d=a(9),E=a.n(d),f=function e(){var t=this;Object(s.a)(this,e),this.signup=function(e){return t.service.post("/signup",e).then(function(e){return e.data}).catch(function(e){return e})},this.login=function(e){return t.service.post("/login",e).then(function(e){return e.data}).catch(function(e){return{err:"Password incorrect"}})},this.logout=function(){return t.service.get("/logout").then(function(e){return e}).catch(function(e){return e})},this.loggedin=function(){return t.service.get("/loggedin")},this.handleUpload=function(e){return t.service.post("/upload",e).then(function(e){return e.data}).catch(function(e){throw e})},this.saveDocument=function(e){return t.service.post("/documents",e).then(function(e){return e.data}).catch(function(e){throw e})},this.service=E.a.create({baseURL:"https://easystock.herokuapp.com/api",withCredentials:!0})},b=a(13),g=a.n(b),v=new f,N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={loggedInUser:null},a.logoutUser=function(){v.logout().then(function(){return r.a.createElement(h.a,{to:"/"})}),localStorage.clear(),g.a.success("Successful logout")},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(p.a)({},this.state,{loggedInUser:e.userInSession})),console.log(this.state.loggedInUser)}},{key:"render",value:function(){return localStorage.getItem("loggedUser")?r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar is-dark is-transparent"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("a",{className:"navbar-item",href:"/"},r.a.createElement("img",{src:"https://iconsgalore.com/wp-content/uploads/2018/10/cell-phone-1-featured-2.png",alt:"easyStock icon",width:"30rem",height:"90rem"}),r.a.createElement("h1",{className:"has-text-warning"},r.a.createElement("strong",null,"easyStock"))),r.a.createElement("div",{className:"navbar-burger burger","data-target":"navbarBurger"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))),r.a.createElement("div",{id:"navbarBurger",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement("a",{className:"navbar-item",href:"/"},"Home"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar is-dark is-transparent"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("a",{className:"navbar-item",href:"/"},r.a.createElement("img",{src:"https://iconsgalore.com/wp-content/uploads/2018/10/cell-phone-1-featured-2.png",alt:"easyStock icon",width:"30rem",height:"90rem"}),r.a.createElement("h1",{className:"has-text-warning"},r.a.createElement("strong",null,"easyStock"))),r.a.createElement("div",{className:"navbar-burger burger","data-target":"navbarBurger"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))),r.a.createElement("div",{id:"navbarBurger",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement("a",{className:"navbar-item",href:"/"},"Home")),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("div",{className:"buttons"},r.a.createElement("a",{className:"button is-primary",href:"/signup"},r.a.createElement("strong",null,"Sign up")),r.a.createElement("a",{className:"button is-light",href:"/login"},"Log in")))))))}}]),t}(n.Component);function y(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"carousel-item active align-middle"},r.a.createElement("img",{className:"  mh-100 ",src:"https://www.pacifictimesheet.com/hubfs/barcode-scanning-app.jpg",alt:"First slide"})),r.a.createElement("section",{className:"hero is-dark"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("h1",{className:"has-text-warning"},"How ",r.a.createElement("strong",{className:"has-text-warning"},"easyStock")," works?"),r.a.createElement("figure",{className:"image is-256x256"},r.a.createElement("img",{className:"",src:"http://www.small-business-inventory-management.com/images/solutions/mobile-stocktaking-physical-inventory.png",alt:"cell",width:"200rem"}),r.a.createElement("br",null)))))}var w=function(e){var t=e.handleInputs,a=e.handleSubmit,n=e.handleSignup;return r.a.createElement("form",{className:"column box is-three-quarters",onSubmit:a},n&&r.a.createElement("div",{className:"field "},r.a.createElement("label",{className:"label"},"Name"),r.a.createElement("div",{className:"control has-icons-left has-icons-right"},r.a.createElement("input",{className:"input is-two-thirds",type:"text",name:"name",onChange:t,placeholder:"name"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-user"})),r.a.createElement("span",{className:"icon is-small is-right"},r.a.createElement("i",{className:"fas fa-check"})))),r.a.createElement("div",{className:"field "},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("p",{className:"control has-icons-left has-icons-right"},r.a.createElement("input",{className:"input is-two-thirds",type:"email",name:"email",onChange:t,placeholder:"Email"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-envelope"})),r.a.createElement("span",{className:"icon is-small is-right"},r.a.createElement("i",{className:"fas fa-check"})))),r.a.createElement("div",{className:"field "},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("p",{className:"control has-icons-left is-two-thirds"},r.a.createElement("input",{className:"input",type:"password",name:"password",onChange:t,placeholder:"Password"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-lock"})))),r.a.createElement("div",{className:"field "},r.a.createElement("p",{className:"control has-text-centered"},n?r.a.createElement("button",{className:"button is-success ",type:"submit"},"SignUp"):r.a.createElement("button",{className:"button is-success ",type:"submit"},"Login"))))},O=new f,S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={form:{email:"",password:""}},a.handleInputs=function(e){var t=a.state.form;t[e.target.name]=e.target.value,a.setState(t)},a.handleSubmit=function(e){e.preventDefault();var t=a.state.form;O.login(t).then(function(e){return e.err?g.a.error(e.err):(g.a.success("Successful login"),window.localStorage.setItem("loggedUser",JSON.stringify(e.role)),"ADMIN"===e.role?a.props.history.push("/admin"):a.props.history.push("/supervisor"))}).catch(function(e){return{msg:e}})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"columns is-mobile login"},r.a.createElement(w,{handleInputs:this.handleInputs,handleSubmit:this.handleSubmit}))}}]),t}(n.Component),j=a(7),k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={listaDeArticulos:[]},a.getAllArticles=function(){E.a.get("https://easystock.herokuapp.com/api/articles").then(function(e){a.setState({listaDeArticulos:e.data})}).catch(function(e){return e})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getAllArticles()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"table column is-four-fifths"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("abbr",{title:"Position"},"Indice")),r.a.createElement("th",null,"Articulo"),r.a.createElement("th",null,r.a.createElement("abbr",{title:"Played"},"Existencia")),r.a.createElement("th",null,r.a.createElement("abbr",{title:"Won"},"Costo")))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("abbr",{title:"Position"},"Indice")),r.a.createElement("th",null,"Articulo"),r.a.createElement("th",null,r.a.createElement("abbr",{title:"Played"},"Existencia")),r.a.createElement("th",null,r.a.createElement("abbr",{title:"Won"},"Costo")))),r.a.createElement("tbody",null,this.state.listaDeArticulos.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",null,t),r.a.createElement("td",null,r.a.createElement(j.b,{to:"/articles/".concat(e._id)},e.nombre)),r.a.createElement("td",null,e.existencia),r.a.createElement("td",null,e.costo))}))))}}]),t}(n.Component),C=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={listOfDocuments:[]},a.getAllDocuments=function(){E.a.get("https://easystock.herokuapp.com/api/documents").then(function(e){a.setState({listOfDocuments:e.data})}).catch(function(e){return e})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getAllDocuments()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{width:"60%",float:"left"}},r.a.createElement("h1",null,"DOCUMENTOS - tickets"),this.state.listOfDocuments.map(function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(j.b,{to:"/documents/".concat(e._id)},r.a.createElement("img",{src:e.imageUrl,alt:"Ticket",width:"100"}),r.a.createElement("h3",null,"Folio:",e.folio),r.a.createElement("h3",null,"Proveedor:",e.proveedor.nombre),r.a.createElement("h3",null,"Supervisor:",e.supervisor.name)),r.a.createElement("hr",null))})),r.a.createElement("div",{style:{width:"40%",float:"right"}}))}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={listOfSuppliers:[]},a.getAllSuppliers=function(){E.a.get("https://easystock.herokuapp.com/api/suppliers").then(function(e){a.setState({listOfSuppliers:e.data})}).catch(function(e){return e})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getAllSuppliers()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{width:"60%",float:"left"}},r.a.createElement("h1",null,"PROVEEDORES"),this.state.listOfSuppliers.map(function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(j.b,{to:"/Suppliers/".concat(e._id)},r.a.createElement("h3",null,"RFC:",e.rfc),r.a.createElement("h3",null,"Razon Social:",e.razonSocial),r.a.createElement("h3",null,"Direccion:",e.direccion),r.a.createElement("h3",null,"Telefono:",e.telefono)),r.a.createElement("hr",null))})),r.a.createElement("div",{style:{width:"40%",float:"right"}}))}}]),t}(n.Component),U=new f,x=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={form:{name:"",email:"",password:""}},a.handleInputs=function(e){var t=a.state.form;t[e.target.name]=e.target.value,a.setState(t)},a.handleSubmit=function(e){e.preventDefault();var t=a.state.form;U.signup(t).then(function(e){return a.setState({name:"",email:"",password:""}),a.props.getUser(e),e.err?g.a.error(e.err):(g.a.success("User created succesfully"),window.localStorage.setItem("User",JSON.stringify(e)),"SUPERVISOR"===e.role?a.props.history.push("/supervisor"):void 0)}).catch(function(e){return{msg:e}})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"columns is-mobile login"},r.a.createElement(w,{handleInputs:this.handleInputs,handleSubmit:this.handleSubmit,handleSignup:!0}))}}]),t}(n.Component),I=a(16),D=a.n(I),P=a(22),F=a(18),B=new f,R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={imageUrl:"",folio:"1045",fechaDoc:"12/12/12",CBB:0,importe:0,proveedor:"5ce3d5c0ac6aff84923e0449",articulos:[],nota:"this is an example",supervisor:"5ce3d4faac6aff84923e0446"},a.handleChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(F.a)({},r,n))},a.handleFileUpload=function(){var e=Object(P.a)(D.a.mark(function e(t){var n,r;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("imageUrl",t.target.files[0]),e.next=4,B.handleUpload(n);case 4:r=e.sent,a.setState({imageUrl:r.secure_url});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=function(){var e=Object(P.a)(D.a.mark(function e(t){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,B.saveDocument(a.state);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"column box is-three-quarters",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"field "},r.a.createElement("label",{className:"label"},"Folio"),r.a.createElement("div",{className:"control "},r.a.createElement("input",{className:"input is-two-thirds",type:"text",value:this.state.folio,name:"folio",id:"folio",onChange:this.handleChange,placeholder:"name"}))),r.a.createElement("div",{className:"field "},r.a.createElement("label",{className:"label"},"FechaDoc"),r.a.createElement("div",{className:"control "},r.a.createElement("input",{className:"input is-two-thirds",value:this.state.fechaDoc,name:"fechaDoc",id:"fechaDoc",onChange:this.handleChange,placeholder:"name"}))),r.a.createElement("div",{className:"field "},r.a.createElement("label",{className:"label"},"Importe"),r.a.createElement("div",{className:"control "},r.a.createElement("input",{className:"input is-two-thirds",type:"number",value:this.state.importe,name:"importe",id:"importe",onChange:this.handleChange,placeholder:"name"}))),r.a.createElement("div",{className:"field "},r.a.createElement("label",{className:"label"},"Articulos"),r.a.createElement("div",{className:"control "},r.a.createElement("input",{className:"input is-two-thirds",type:"text",value:this.state.articulos,name:"articulos",id:"articulos",onChange:this.handleChange,placeholder:"name"}))),r.a.createElement("div",{className:"field "},r.a.createElement("label",{className:"label"},"Image"),r.a.createElement("div",{className:"control "},r.a.createElement("input",{className:"input is-two-thirds",type:"file",name:"imageUrl",onChange:this.handleFileUpload,placeholder:"name"}),r.a.createElement("img",{src:this.state.imageUrl,alt:"Ticket",width:"100"}))),r.a.createElement("input",{className:"input is-two-thirds button is-primary",type:"submit",value:"enviar a BD"})))}}]),t}(n.Component),_=new f,M=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={file:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"hero is-light heroP"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Bienvenido ",localStorage.getItem("loggedUser").replace(/['"]+/g,"")),r.a.createElement(j.b,{to:"/articles"},"Articulos")," ",r.a.createElement("br",null),r.a.createElement(j.b,{to:"/suppliers"},"Proveedoresss")," ",r.a.createElement("br",null),r.a.createElement(j.b,{to:"/documents"},"Documents")," ",r.a.createElement("br",null),r.a.createElement("a",{className:"button is-danger has-text-white",onClick:function(){_.logout(),localStorage.clear(),g.a.success("Successful logout")},href:"/"},"Logout")," ",r.a.createElement("hr",null))),r.a.createElement("div",{className:"columns is-mobile loginb"},r.a.createElement(R,null)))}}]),t}(n.Component),T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={provNombre:""},a.getSingleArticle=function(){var e=a.props.match.params;E.a.get("https://easystock.herokuapp.com/articles/".concat(e.id)).then(function(e){var t=e.data;a.setState(Object(p.a)({},t)),a.setState({provNombre:a.state.proveedor.nombre})}).catch(function(e){return e})},a.deleteArticle=function(e){var t=a.props.match.params;E.a.delete("https://easystock.herokuapp.com/articles/".concat(t.id)).then(function(e){a.props.history.push("/articles")})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getSingleArticle()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card",key:this.state._id},r.a.createElement("header",{className:"card-header"},r.a.createElement("p",{className:"card-header-title"},this.state.nombre)),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("h3",null,"Costo: ",this.state.costo),r.a.createElement("h3",null,"ImpuestoIVA: ",this.state.impuestoIVA),r.a.createElement("h3",null,"ImpuestoIEPS: ",this.state.impuestoIEPS),r.a.createElement("h3",null,"Existencia: ",this.state.existencia),r.a.createElement("h3",null,"Unidad de Venta: ",this.state.unidadVenta),r.a.createElement("h3",null,"Unidad de Compra: ",this.state.unidadCompra),r.a.createElement("h3",null,"Unidades por Caja: ",this.state.unidadesCaja),r.a.createElement("h3",null,"Proveedor: ",this.state.provNombre))),r.a.createElement("footer",{className:"card-footer"},r.a.createElement("button",{className:"button is-primary card-footer-item"},"Edit"),r.a.createElement("button",{className:"button is-danger card-footer-item",onClick:function(){return e.deleteArticle(e.state._id)}},"Delete"))))}}]),t}(n.Component),V=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loggedInUser:null},a.getTheUser=function(e){a.setState({loggedInUser:e})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(N,{userInSession:this.state.loggedInUser}),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:y}),r.a.createElement(h.b,{exact:!0,path:"/login",component:S}),r.a.createElement(h.b,{exact:!0,path:"/signup",render:function(){return r.a.createElement(x,{getUser:e.getTheUser})}}),r.a.createElement(h.b,{exact:!0,path:"/admin",component:M}),r.a.createElement(h.b,{exact:!0,path:"/supervisor",component:M}),r.a.createElement(h.b,{exact:!0,path:"/articles",render:function(){return r.a.createElement("div",{className:"columns is-mobile login"},r.a.createElement(k,null)," ")}}),r.a.createElement(h.b,{exact:!0,path:"/documents",component:C}),r.a.createElement(h.b,{exact:!0,path:"/suppliers",component:A}),r.a.createElement(h.b,{exact:!0,path:"/articles/:id",component:T})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(72),a(73);c.a.render(r.a.createElement(function(){return r.a.createElement(j.a,null,r.a.createElement(V,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.f3a4f438.chunk.js.map